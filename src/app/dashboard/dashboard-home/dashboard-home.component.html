<div class="dashboard-home">
  <h1 class="page-title">Dashboard</h1>
  <p class="intro">Trending products based on recent purchases.</p>

  <section class="trending-section">
    <h2 class="section-heading">Trending products</h2>
    <p class="section-desc">Most purchased items (based on invoice count).</p>
    @if (trendingProducts().length) {
      <!-- Bar Chart -->
      @if (isBrowser()) {
        <div class="chart-container">
          <canvas baseChart
            [data]="chartData()"
            [options]="chartOptions"
            type="bar">
          </canvas>
        </div>
      }
      
      <!-- Trending List -->
      <div class="trending-list">
        @for (item of trendingProducts(); track item.productName; let i = $index) {
          <div class="trending-card">
            <span class="trending-rank">{{ i + 1 }}</span>
            <div class="trending-info">
              <span class="trending-name">{{ item.productName }}</span>
              <span class="trending-count">{{ item.count }} {{ item.count === 1 ? 'purchase' : 'purchases' }}</span>
            </div>
          </div>
        }
      </div>
    } @else {
      <p class="empty-msg">No purchase data yet.</p>
    }
  </section>
</div>
